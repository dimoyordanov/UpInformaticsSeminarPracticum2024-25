# Бройни системи, побитови оператори

## Бройни системи

| Десетична (decimal) | Двоична (binary) | осмична (octal) | Шестнайсетична (hexadecimal) |
|---------------------|------------------|-----------------|------------------------------|
| 00                  | 0000             | 00              | 0                            |
| 01                  | 0001             | 01              | 1                            |
| 02                  | 0010             | 02              | 2                            |
| 03                  | 0011             | 03              | 3                            |
| 04                  | 0100             | 04              | 4                            |
| 05                  | 0101             | 05              | 5                            |
| 06                  | 0110             | 06              | 6                            |
| 07                  | 0111             | 07              | 7                            |
| 08                  | 1000             | 10              | 8                            |
| 09                  | 1001             | 11              | 9                            |
| 10                  | 1010             | 12              | A                            |
| 11                  | 1011             | 13              | B                            |
| 12                  | 1100             | 14              | C                            |
| 13                  | 1101             | 15              | D                            |
| 14                  | 1110             | 16              | E                            |
| 15                  | 1111             | 17              | F                            |

### Принтиране на числа в различни бройни системи

**Представяне на числа в различни бройни системи**
```c
int dec = 10;
int bin = 0b1010;
int oct = 012;
int hex = 0xA;
```

```c
#include <stdio.h>

int main() {
    int a = 10;
    printf("Decimal: %d\n", a);
    printf("Octal: %o\n", a);
    printf("Hexadecimal: %x\n", a);
    return 0;
}
```

C не поддържа стандартно принтиране на двоични числа. Тъй като не сме взели цикли може да се използва следната функция наготово:

```c
void printfb(int n) {
    while (n) {
        if (n & 1) {
            printf("1");
        } else {
            printf("0");
        }
        n >>= 1;
    }
}
```

### Представяния на отрицателни числа

- One's complement 
```
(2) [0010] -(flip)-> [1101] (-2)
```
- Signed magnitude 
```
(2) [0010] -> [1010] (-2)
```
- Two's complement 
```
(2) [0010] -(flip)-> [1101] + [001] = [1110] (-2)
```
### Представяне на числа с плаваща запетая

- [Fixed-Point arithmetic standard](https://vanhunteradams.com/FixedPoint/FixedPoint.html) -> фиксирана запетая
- [IEEE 754 arithmetic standard](https://www.geeksforgeeks.org/ieee-standard-754-floating-point-numbers/) -> плаваща запетая

## Побитови операции
Прилагат върху един бит или набор от повече отделни битове на двоични числа

- Побитово И `&`

```
a = 0b1010
b = 0b1100
a & b == 0b1000
```
- Побитово ИЛИ  `|`

```
a = 0b1010
b = 0b1100
a | b == 0b1110
```

- Побитово ИЗКЛЮЧВАЩО ИЛИ  `^`

```
a = 0b1010
b = 0b1100
a ^ b == 0b0110
```

- Побитово НЕ `~`

```
a = 0b1010 // 10
~a == 0b0101 // -11
```

- Побитово отместване  `<<`

```
a = 0b1010
a << 1 == 0b0100
```

- Побитово отместване  `>>`

```
a = 0b1010
a >> 1 == 0b0101 // Ако числото е положително
а >> 1 == 0b1101 // Ако числото е отрицателно
```

## Маски и работа с тях

Маската е двоично число, което се използва за манипулиране и извличане на определени битове от друго число.

- Чрез '&' извличаме подмножество от битове от друго число
- Чрез '|' можем да променяме определени битове на друга стойност
- Чрез '^' можем да "toggle"-ваме определени битове

## Задачи

### Задача 1.
Разменете стойностите на две променливи с помощта на побитови операции (без да използвате трета променлива).

### Задача 2.
Да се прочете от конзолата цяло положително число в интервала **[ 0 , 255 ]** и проверете дали броя на включените битове в него е четен или нечетен.

**Пример:**
```
    Вход: 7 
    Изход: odd
    Обяснение: 7 = 00000111 -> 3 бита са включени

    Вход: 6 
    Изход: even
    Обяснение: 6 = 00000110 -> 2 бита са включени
```

### Задача 3.
Да се прочете число от конзолата и да се намери неговата абсолютна стойност с побитови операции.

**Пример:**
```
    Вход: -5
    Изход: 5

    Вход: 5
    Изход: 5
```

### Задача 4. (**за бонус точка**)
За следващата задача ще ви потрябва библиотеката `<stdint.h>`. Напишете програма, която прочита от конзолата три цели положителни числа, day, month, year (за по-лесно year ще бъде цяло число от **0** до **63**, което ще репрезентира изминали години от годината **1970**). Направете проверка дали съответната дата е коректна (високосна година също се проверява). Запазете съответната дата в една променлива, като заделите минимално количество памет. Изведете датата във формат **dd.mm.yyyy**, като извличате данните от променливата.


